<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Valentine's Day Bestie! üíï</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@300;400;600;700&family=Chewy&family=Satisfy&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        #particles-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        #canvas3d {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
        }

        .vignette {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 3;
            box-shadow: inset 0 0 150px rgba(0,0,0,0.5);
        }

        .envelope-scene {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
            background: radial-gradient(ellipse at center, rgba(255, 182, 193, 0.4) 0%, rgba(102, 126, 234, 1) 70%);
            transition: opacity 2s ease, visibility 2s ease;
        }

        .envelope-scene.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .envelope-3d {
            width: 450px;
            height: 320px;
            position: relative;
            transform-style: preserve-3d;
            cursor: pointer;
            animation: envelopeFloat 3s ease-in-out infinite;
        }

        @keyframes envelopeFloat {
            0%, 100% { transform: translateY(0) rotateY(0deg); }
            50% { transform: translateY(-25px) rotateY(3deg); }
        }

        .envelope-3d:hover {
            transform: scale(1.08) rotateY(8deg);
        }

        .envelope-back, .envelope-front, .envelope-flap {
            position: absolute;
            background: linear-gradient(135deg, #ff6b9d 0%, #c94b7d 100%);
            box-shadow: 0 25px 70px rgba(255, 107, 157, 0.6);
        }

        .envelope-back {
            width: 100%;
            height: 100%;
            clip-path: polygon(0 0, 50% 50%, 100% 0, 100% 100%, 0 100%);
        }

        .envelope-front {
            width: 100%;
            height: 60%;
            bottom: 0;
            background: linear-gradient(135deg, #ffa0c9 0%, #ff6b9d 100%);
        }

        .envelope-flap {
            width: 100%;
            height: 60%;
            top: 0;
            clip-path: polygon(0 0, 50% 60%, 100% 0);
            transform-origin: top center;
            transition: transform 1.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .envelope-3d.opened .envelope-flap {
            transform: rotateX(-175deg);
        }

        .letter-inside {
            position: absolute;
            width: 90%;
            height: 85%;
            left: 5%;
            top: 10%;
            background: linear-gradient(135deg, #fffacd 0%, #ffe4e1 100%);
            border-radius: 12px;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 30px;
            transform: translateY(0) translateZ(15px);
            transition: transform 1.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.4s;
        }

        .envelope-3d.opened .letter-inside {
            transform: translateY(-130%) translateZ(40px) rotateX(4deg);
        }

        .letter-inside h2 {
            font-family: 'Pacifico', cursive;
            font-size: 3.2em;
            color: #ff1493;
            margin-bottom: 12px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .letter-inside p {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.3em;
            color: #555;
            font-weight: 600;
        }

        .sticker {
            position: absolute;
            bottom: 35px;
            right: 35px;
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, #ffd700 0%, #ffb347 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2em;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.5);
            animation: stickerSpin 4s ease-in-out infinite;
        }

        @keyframes stickerSpin {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(15deg); }
        }

        .click-prompt {
            position: absolute;
            bottom: -80px;
            left: 50%;
            transform: translateX(-50%);
            color: #fff;
            font-size: 1.3em;
            font-family: 'Chewy', cursive;
            text-shadow: 0 0 15px rgba(255, 182, 193, 1);
            animation: bounce 1.5s ease-in-out infinite;
            letter-spacing: 2px;
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-8px); }
        }

        .main-content {
            position: relative;
            z-index: 10;
            display: none;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .main-content.visible {
            display: block;
            animation: fadeIn 1.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .hero-section {
            text-align: center;
            padding: 60px 20px;
        }

        .main-title {
            font-family: 'Pacifico', cursive;
            font-size: 6em;
            background: linear-gradient(45deg, #ff6b9d, #ffd700, #ff69b4, #ff6b9d);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titleGradient 4s ease infinite;
            text-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
            margin-bottom: 20px;
        }

        @keyframes titleGradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .subtitle {
            font-family: 'Satisfy', cursive;
            font-size: 2.8em;
            color: #fff;
            margin-top: 15px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
        }

        .tagline {
            font-size: 1.5em;
            color: rgba(255, 255, 255, 0.95);
            margin-top: 20px;
            font-weight: 600;
        }

        .nav-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            max-width: 1100px;
            margin: 60px auto;
            padding: 0 20px;
        }

        .nav-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.25);
            border-radius: 25px;
            padding: 35px 25px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            text-align: center;
        }

        .nav-card:hover {
            transform: translateY(-15px) scale(1.05);
            box-shadow: 0 25px 60px rgba(255, 107, 157, 0.5);
            background: rgba(255, 255, 255, 0.25);
        }

        .nav-card-icon {
            font-size: 3.5em;
            margin-bottom: 15px;
            display: block;
        }

        .nav-card-title {
            font-family: 'Chewy', cursive;
            font-size: 1.5em;
            color: #fff;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .section {
            display: none;
            max-width: 1200px;
            margin: 80px auto;
            padding: 50px 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        .section.active {
            display: block;
            animation: sectionSlide 0.8s ease;
        }

        @keyframes sectionSlide {
            from { 
                opacity: 0;
                transform: translateY(40px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            font-family: 'Pacifico', cursive;
            font-size: 3.5em;
            color: #ffd700;
            text-align: center;
            margin-bottom: 50px;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.7);
        }

        .reasons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .reason-card {
            background: linear-gradient(135deg, rgba(255, 182, 193, 0.2) 0%, rgba(255, 107, 157, 0.2) 100%);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            padding: 40px 25px;
            text-align: center;
            transition: all 0.5s ease;
        }

        .reason-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 20px 50px rgba(255, 107, 157, 0.4);
        }

        .reason-icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .reason-card h3 {
            font-family: 'Chewy', cursive;
            font-size: 1.8em;
            color: #ffd700;
            margin-bottom: 15px;
        }

        .reason-card p {
            color: #fff;
            font-size: 1.2em;
            line-height: 1.7;
        }

        .memories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 35px;
            margin-top: 40px;
        }

        .memory-card {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            transition: all 0.4s ease;
        }

        .memory-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(255, 182, 193, 0.5);
        }

        .memory-card h3 {
            font-family: 'Satisfy', cursive;
            font-size: 2em;
            color: #ffd700;
            margin-bottom: 15px;
        }

        .memory-card p {
            color: #fff;
            font-size: 1.15em;
            line-height: 1.8;
        }

        .wishes-section {
            text-align: center;
            padding: 40px;
        }

        .wish-text {
            font-size: 1.6em;
            color: #fff;
            line-height: 2;
            margin: 25px 0;
            font-weight: 600;
        }

        .big-heart {
            font-size: 10em;
            animation: heartPulse 2s ease-in-out infinite;
            margin: 30px 0;
        }

        @keyframes heartPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        .song-section {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);
            border: 3px solid rgba(255, 182, 193, 0.4);
            border-radius: 30px;
            padding: 50px;
            text-align: center;
        }

        .song-title {
            font-family: 'Satisfy', cursive;
            font-size: 3em;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .play-button {
            width: 130px;
            height: 130px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b9d 0%, #c94b7d 100%);
            border: 4px solid rgba(255, 215, 0, 0.7);
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.4s ease;
            box-shadow: 0 15px 50px rgba(255, 107, 157, 0.7);
            margin: 25px 0;
        }

        .play-button:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 0 20px 60px rgba(255, 107, 157, 0.9);
        }

        .play-button::before {
            content: '‚ñ∂';
            font-size: 3.5em;
            color: #fff;
            margin-left: 10px;
        }

        .signature {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(15px);
            padding: 20px 30px;
            border-radius: 25px;
            border: 2px solid rgba(255, 107, 157, 0.5);
        }

        .signature p {
            font-family: 'Satisfy', cursive;
            font-size: 2em;
            color: #ff69b4;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.9);
        }

        .floating-emoji {
            position: fixed;
            font-size: 22px;
            animation: floatEmoji 7s linear infinite;
            pointer-events: none;
            z-index: 5;
        }

        @keyframes floatEmoji {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            .main-title { font-size: 4em; }
            .subtitle { font-size: 2em; }
            .section-title { font-size: 2.5em; }
            .signature { bottom: 15px; right: 15px; padding: 12px 20px; }
            .signature p { font-size: 1.5em; }
        }
    </style>
</head>
<body>
    <canvas id="particles-canvas"></canvas>
    <canvas id="canvas3d"></canvas>
    <div class="vignette"></div>

    <div class="envelope-scene" id="envelopeScene">
        <div class="envelope-3d" id="envelope" onclick="openEnvelope()">
            <div class="envelope-back"></div>
            <div class="envelope-front"></div>
            <div class="envelope-flap"></div>
            <div class="letter-inside">
                <h2>Hey Bestie!</h2>
                <p>Click to open üíï</p>
            </div>
            <div class="sticker">üéâ</div>
        </div>
        <div class="click-prompt">TAP TO OPEN! ‚ú®</div>
    </div>

    <div class="main-content" id="mainContent">
        <div class="hero-section">
            <div class="main-title">BESTIE SASHA</div>
            <div class="subtitle">Happy Valentine's Day!</div>
            <div class="tagline">To my amazing number 1 üíï</div>
        </div>

        <div class="nav-cards">
            <div class="nav-card" onclick="showSection('reasons')">
                <span class="nav-card-icon">üíñ</span>
                <div class="nav-card-title">Why You're Amazing</div>
            </div>
            <div class="nav-card" onclick="showSection('memories')">
                <span class="nav-card-icon">üåü</span>
                <div class="nav-card-title">Our Best Memories</div>
            </div>
            <div class="nav-card" onclick="showSection('song')">
                <span class="nav-card-icon">üéµ</span>
                <div class="nav-card-title">Our Friendship Anthem</div>
            </div>
            <div class="nav-card" onclick="showSection('wishes')">
                <span class="nav-card-icon">üíù</span>
                <div class="nav-card-title">Valentine's Wishes</div>
            </div>
        </div>

        <div id="reasons" class="section">
            <h2 class="section-title">Why You're the Best Friend Ever! üåü</h2>
            <div class="reasons-grid">
                <div class="reason-card">
                    <div class="reason-icon">üòÇ</div>
                    <h3>You Make Me Laugh</h3>
                    <p>No one else can make me laugh until my stomach hurts like you do! Your sense of humor is absolutely amazing and brightens even my worst days.Na si uwongo</p>
                </div>
                <div class="reason-card">
                    <div class="reason-icon">ü§ó</div>
                    <h3>Always There For Me</h3>
                    <p>Through thick and thin, you've been by my side. Whether I need advice, a person to talk to, or someone to celebrate with - you're always there!</p>
                </div>
                <div class="reason-card">
                    <div class="reason-icon">‚ú®</div>
                    <h3>You Understand Me</h3>
                    <p>You just GET me. We can have entire conversations with just a look. That's how deep our friendship is, and I'm so grateful for it!</p>
                </div>
                <div class="reason-card">
                    <div class="reason-icon">üéâ</div>
                    <h3>Life's More Fun With You</h3>
                    <p>Every adventure is better with you! From random late-night talks to spontaneous hangouts, you make everything more exciting and memorable.</p>
                </div>
            </div>
        </div>

        <div id="memories" class="section">
            <h2 class="section-title">Our Favorite Memories üì∏</h2>
            <div class="memories-grid">
                <div class="memory-card">
                    <h3>üçï Late Night Food Runs</h3>
                    <p>Remember all those times we stayed up way too late talking about everything and nothing, eating bites, crisps and ringos. Those are some of my favorite moments!</p>
                </div>
                <div class="memory-card">
                    <h3>üé¨ Movie Nights</h3>
                    <p>Our epic movie marathons with all the snacks! Laughing, hoping to see u emotionally crying, and trying to know our movie references that tunapenda. Although ulilala episode yote ukamiss the fun parts!</p>
                </div>
                <div class="memory-card">
                    <h3>üí¨ Deep Conversations</h3>
                    <p>Those 3 AM heart-to-hearts where we opened up and shared our biggest dreams. You're the only person I can be 100% real with. Hio night those deep conversations </p>
                </div>
                <div class="memory-card">
                    <h3>üéä Inside Jokes</h3>
                    <p>We have SO many inside jokes that no one else understands! Just one word or look and we're both cracking up. That's true friendship right there! na bila kusahau sense of humour kwa reels</p>
                </div>
                <div class="memory-card">
                    <h3>üåà Adventures Together</h3>
                    <p>Every single adventure we've been on together, whether planned or spontaneous, has been absolutely unforgettable. Random walks to Gachio, ama sckool of government. Here's to many more!</p>
                </div>
                <div class="memory-card">
                    <h3>üíï Being There</h3>
                    <p>You've seen me at my best and not yet worst, and you've never judged. You've celebrated my wins and lifted me up during tough times. Thank you for everything.</p>
                </div>
            </div>
        </div>

        <div id="song" class="section">
            <h2 class="section-title">Our Friendship Song üéµ</h2>
            <div class="song-section">
                <h3 class="song-title">"Count On Me" - Bruno Mars</h3>
                <p style="font-size: 1.3em; color: #fff; margin: 20px 0;">
                    "You can count on me like 1, 2, 3, I'll be there..."<br><br>
                    This song perfectly describes our friendship!<br>
                    We'll always have each other's backs! üíï
                </p>
                <button class="play-button" onclick="playSong()"></button>
                <p style="color: rgba(255,255,255,0.8); margin-top: 20px; font-size: 1.1em;">
                    Click to listen to our song! üé∂
                </p>
            </div>
        </div>

        <div id="wishes" class="section">
            <h2 class="section-title">Valentine's Day Wishes For You! üíù</h2>
            <div class="wishes-section">
                <div class="big-heart">üíï</div>
                <p class="wish-text">
                    Happy Valentine's Day to my NUMBER 1 BEST FRIEND in the entire world!
                </p>
                <p class="wish-text">
                    This day isn't just for couples - it's for celebrating all kinds of love,<br>
                    and the love I have for you my best friend is one of the most important!
                </p>
                <p class="wish-text">
                    Thank you for being YOU - for your kindness, your loyalty, your humor,<br>
                    and for making my life so much better just by being in it!
                </p>
                <p class="wish-text">
                    I hope this Valentine's Day brings you as much joy as you bring to my life every single day!
                </p>
                <p class="wish-text">
                    You deserve all the love, happiness, and chocolate in the world! Na usinisahau kwa hizo chocolatesüç´üíñ
                </p>
                <p class="wish-text" style="font-size: 2em; color: #ffd700; margin-top: 40px;">
                    Love you to the moon and back, SASHA! üåô‚ú®
                </p>
            </div>
        </div>
    </div>

    <div class="signature">
        <p>From Amethyst üíï</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        const particlesCanvas = document.getElementById('particles-canvas');
        const pCtx = particlesCanvas.getContext('2d');
        particlesCanvas.width = window.innerWidth;
        particlesCanvas.height = window.innerHeight;

        const particles = [];
        const particleCount = 70;

        class Particle {
            constructor() {
                this.x = Math.random() * particlesCanvas.width;
                this.y = Math.random() * particlesCanvas.height;
                this.size = Math.random() * 2.5 + 1;
                this.speedX = (Math.random() - 0.5) * 0.4;
                this.speedY = (Math.random() - 0.5) * 0.4;
                this.color = ['#ffb6c1', '#ff69b4', '#ffd700', '#ff6b9d'][Math.floor(Math.random() * 4)];
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x > particlesCanvas.width) this.x = 0;
                if (this.x < 0) this.x = particlesCanvas.width;
                if (this.y > particlesCanvas.height) this.y = 0;
                if (this.y < 0) this.y = particlesCanvas.height;
            }

            draw() {
                pCtx.fillStyle = this.color;
                pCtx.beginPath();
                pCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                pCtx.fill();
            }
        }

        for (let i = 0; i < particleCount; i++) {
            particles.push(new Particle());
        }

        function animateParticles() {
            pCtx.clearRect(0, 0, particlesCanvas.width, particlesCanvas.height);
            
            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();

                for (let j = i + 1; j < particles.length; j++) {
                    const dx = particles[i].x - particles[j].x;
                    const dy = particles[i].y - particles[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < 100) {
                        pCtx.strokeStyle = `rgba(255, 182, 193, ${1 - distance / 100})`;
                        pCtx.lineWidth = 0.5;
                        pCtx.beginPath();
                        pCtx.moveTo(particles[i].x, particles[i].y);
                        pCtx.lineTo(particles[j].x, particles[j].y);
                        pCtx.stroke();
                    }
                }
            }

            requestAnimationFrame(animateParticles);
        }

        animateParticles();

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ 
            canvas: document.getElementById('canvas3d'), 
            alpha: true,
            antialias: true 
        });
        renderer.setSize(window.innerWidth, window.innerHeight);

        const heartShape = new THREE.Shape();
        heartShape.moveTo(0, 0);
        heartShape.bezierCurveTo(0, -0.3, -0.6, -0.3, -0.6, 0);
        heartShape.bezierCurveTo(-0.6, 0.3, 0, 0.6, 0, 1);
        heartShape.bezierCurveTo(0, 0.6, 0.6, 0.3, 0.6, 0);
        heartShape.bezierCurveTo(0.6, -0.3, 0, -0.3, 0, 0);

        const extrudeSettings = { 
            depth: 0.4, 
            bevelEnabled: true, 
            bevelThickness: 0.1, 
            bevelSize: 0.1,
            bevelSegments: 4
        };
        const heartGeometry = new THREE.ExtrudeGeometry(heartShape, extrudeSettings);

        const hearts = [];
        const colors = [0xffb6c1, 0xff69b4, 0xffd700, 0xff6b9d, 0xffa0c9];
        
        for (let i = 0; i < 25; i++) {
            const color = colors[Math.floor(Math.random() * colors.length)];
            const material = new THREE.MeshPhongMaterial({ 
                color: color,
                emissive: color,
                emissiveIntensity: 0.3,
                shininess: 100
            });
            
            const heart = new THREE.Mesh(heartGeometry, material);
            heart.position.set(
                (Math.random() - 0.5) * 35,
                (Math.random() - 0.5) * 35,
                (Math.random() - 0.5) * 35
            );
            heart.rotation.set(
                Math.random() * Math.PI * 2,
                Math.random() * Math.PI * 2,
                Math.random() * Math.PI * 2
            );
            heart.scale.set(0.5, 0.5, 0.5);
            
            heart.userData = {
                speedX: (Math.random() - 0.5) * 0.01,
                speedY: (Math.random() - 0.5) * 0.01,
                speedZ: (Math.random() - 0.5) * 0.01,
                rotationSpeed: (Math.random() - 0.5) * 0.012
            };
            
            hearts.push(heart);
            scene.add(heart);
        }

        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);
        
        const pointLight1 = new THREE.PointLight(0xff69b4, 1.5, 100);
        pointLight1.position.set(15, 15, 15);
        scene.add(pointLight1);
        
        const pointLight2 = new THREE.PointLight(0xffd700, 1.2, 100);
        pointLight2.position.set(-15, -15, 15);
        scene.add(pointLight2);

        camera.position.z = 20;

        function animate3D() {
            requestAnimationFrame(animate3D);
            
            hearts.forEach(heart => {
                heart.rotation.x += heart.userData.rotationSpeed;
                heart.rotation.y += heart.userData.rotationSpeed;
                
                heart.position.x += heart.userData.speedX;
                heart.position.y += heart.userData.speedY;
                heart.position.z += heart.userData.speedZ;
                
                if (Math.abs(heart.position.x) > 17) heart.userData.speedX *= -1;
                if (Math.abs(heart.position.y) > 17) heart.userData.speedY *= -1;
                if (Math.abs(heart.position.z) > 17) heart.userData.speedZ *= -1;
            });
            
            const time = Date.now() * 0.0003;
            pointLight1.position.x = Math.cos(time) * 15;
            pointLight1.position.z = Math.sin(time) * 15;
            
            renderer.render(scene, camera);
        }

        animate3D();

        function openEnvelope() {
            const envelope = document.getElementById('envelope');
            const scene = document.getElementById('envelopeScene');
            const mainContent = document.getElementById('mainContent');
            
            envelope.classList.add('opened');
            
            setTimeout(() => {
                scene.classList.add('hidden');
                mainContent.classList.add('visible');
                createFloatingEmojis();
            }, 2000);
        }

        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            
            const targetSection = document.getElementById(sectionId);
            targetSection.classList.add('active');
            
            targetSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            createFloatingEmojis();
        }

        function playSong() {
            window.open('https://www.youtube.com/watch?v=6k8cpUkKK4c&list=RD6k8cpUkKK4c&start_radio=1');
        }

        function createFloatingEmojis() {
            const emojis = ['üíï', 'üíñ', '‚ú®', 'üåü', 'üíù', 'üéâ', 'üå∏', 'ü¶ã'];
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const emoji = document.createElement('div');
                    emoji.className = 'floating-emoji';
                    emoji.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
                    emoji.style.left = Math.random() * 100 + '%';
                    emoji.style.animationDuration = (Math.random() * 3 + 5) + 's';
                    emoji.style.fontSize = (Math.random() * 10 + 18) + 'px';
                    document.body.appendChild(emoji);
                    
                    setTimeout(() => emoji.remove(), 7000);
                }, i * 150);
            }
        }

        setInterval(() => {
            if (document.getElementById('mainContent').classList.contains('visible')) {
                const emoji = document.createElement('div');
                emoji.className = 'floating-emoji';
                emoji.innerHTML = ['üíï', 'üíñ', '‚ú®'][Math.floor(Math.random() * 3)];
                emoji.style.left = Math.random() * 100 + '%';
                emoji.style.animationDuration = (Math.random() * 4 + 6) + 's';
                emoji.style.fontSize = (Math.random() * 8 + 16) + 'px';
                emoji.style.opacity = '0.6';
                document.body.appendChild(emoji);
                
                setTimeout(() => emoji.remove(), 10000);
            }
        }, 2500);

        window.addEventListener('resize', () => {
            particlesCanvas.width = window.innerWidth;
            particlesCanvas.height = window.innerHeight;
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
